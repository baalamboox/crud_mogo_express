doctype html
html(lang="en")
  head
    // Requiere etiquetas meta
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")

    // CSS Bootstrap
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous")

    title CRUD-MongoDB

  body.bg-dark.bg-gradient.text-white(style="min-height: 100vh")
    .container.txt-center
      .row.d-flex.justify-content-center
        .col.text-center
          h1 Agenda de contactos 

    .container.mt-3
      .row.d-flex.justify-content-center
        .col-6 
          form.shadow-lg.p-3.mb-5.bg-secondary.bg-gradient.rounded(action="/crear" method="POST")
            fieldset
              legend Datos del contacto
              .mb-3
                label.form-label(for="nombre") Nombre
                input.form-control#nombre(type="text" aria-describedby="nombreHelp" name="nombre" placeholder="Nombre completo")
                .form-text.text-light#nombreHelp Por favor ingresa un nombre completo.
              .mb-3
                label.form-label(for="email") Correo Electronico
                input.form-control#email(type="email" aria-describedby="emailHelp" name="email" placeholder="Email recurrente")
                .form-text.text-light#emailHelp Por favor ingresa un email valido.
              .mb-3
                label.form-label(for="telefono") Telefono
                input.form-control#telefono(type="text" aria-describedby="telefonoHelp" name="telefono" placeholder="Telefono a 10 digitos")
                .form-text.text-light#telefonoHelp Por favor ingresa un telefono valido.
              .d-flex.justify-content-end
                button.btn.btn-primary(type="submit") Guardar contacto

    .container 
      .row 
        .col
          table.table.table-dark.table-striped.table-hover.table-bordered.table-sm.table-responsive-sm.text-center
            thead
              tr
                th(scope="col") Nombre
                th(scope="col") Email
                th(scope="col") Telefono
                th(scope="col" colspan="2") Acciones
            tbody
              if ok
                each contacto in contactos
                  tr
                    td.d-none=contacto._id
                    td=contacto.nombre 
                    td=contacto.email
                    td=contacto.telefono
                    td 
                      button.btn.btn-info#btnEditar Actualizar
                    td
                      a.btn.btn-danger(href=`/delete/${contacto._id}`) Eliminar
              else
                tr
                  td Ingresa un contacto primero
                  td Ingresa un contacto primero
                  td Ingresa un contacto primero
                  td 
                    button.btn.btn-info Actualizar
                  td
                    button.btn.btn-danger Eliminar

    // JavaScript opcional; Â¡Selecciona uno de los dos!

    // Opcion 1: Bootstrap Bundle con Popper
    // script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"
    include ../includes/modal.pug
    // Option 2: Separate Popper and Bootstrap JS
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous")
    script(src="static/js/modal.js") 